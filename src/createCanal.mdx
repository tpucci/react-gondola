---
name: createCanal
menu: API
route: /api/create-canal
---

# createCanal

`type: <Authorizations = { [K in Stop['name']]?: boolean }>(stopsList: Stop[]): ComponentType<CanalComponentProps<Authorizations>>`

`createCanal` takes a list of `Stop` and returns a new canal. A valid `Stop` is an object with a unique `name` key, a component key and an optional `isFullScreen` flag. See `Stop` for more details.

## Stop

|    Key name    | Required | Default     | Usage                                                                           |
| :------------: | :------: | ----------- | ------------------------------------------------------------------------------- |
|     `name`     |  `true`  | `undefined` | Unique identifier.                                                              |
|  `Component`   |  `true`  | `undefined` | The component that will be rendered when the user progress reaches that stop.   |
|    `props`     | `false`  | `undefined` | Optional. Props that will be passed down to the component.                      |
|    `onBack`    | `false`  | `undefined` | Optional. Android Back button Callback.                                         |
| `isFullScreen` | `false`  | `undefined` | Optional. Indicates if the stop needs to be rendered in the `FullScreenPortal`. |

## Canal Props

|       Prop name       | Required | Default                               | Usage                                                                           |
| :-------------------: | :------: | ------------------------------------- | ------------------------------------------------------------------------------- |
|        `style`        | `false`  | `ReactNative.StyleSheet.absoluteFill` | Style applied to the Canal wrapper.                                             |
| `[K in Stop['name']]` | `false`  | `undefined`                           | Indicates to the canal that we are authorized to render the corresponding stop. |

## Canal Properties

### `canalId: string`

The canal unique id generated with `Date.now().toString()`

### `stopsList: Stop[]`

The list of Stop given as the `createCanal` first argument.

### `authorizations: Subject<Authorizations>`

RxJS Subject of Authorizations.

### `progress: Observable<Stop[]>`

RxJS Observable of the list of authorized stops which represent a valid route. A valid route starts from the first stop, go through each stop and ends at the first non-authorized stop. If the first stop is not authorized, the progress emits an empty list.

### `stack: IStreamListener<Stop[]>`

MobX Strem Listener of list of local Stops. All full screen stops are filtered out. This stream is observed by MobX and fires the rendering of the canal stack in the `Canal.render` method.

## Basic usage

Link your pages in a canal.

```tsx
import React from "react";
import { createCanal } from "react-gondola";
import { FirstName } from "./FirstName";
import { LastName } from "./LastName";
import { Confirm } from "./Confirm";

export const SignInCanal = createCanal([
  { name: "firstName", Component: FirstName },
  { name: "lastName", Component: LastName },
  { name: "confirm", Component: Confirm, isFullScreen: true }
]);
```
